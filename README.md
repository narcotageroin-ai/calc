
# Калькулятор цен для маркетплейсов

Streamlit‑приложение, которое считает рекомендуемую **цену продажи** и **маржинальность** для товаров на маркетплейсах,
исходя из закупочной цены, габаритов и параметров комиссий/НДС/логистики.

## Логика расчета (кратко)

Для каждого товара из Excel:
1. Считаем объем в литрах: `литраж = (ширина * высота * глубина) / 1000` (при размерах в см).
2. Считаем стоимость логистики: `Базовая цена за 1 л + цена за каждый доп. литр`.
3. Наценка "от обратного": если хотим X% маржи, делим закупку на `(1 - X/100)`.
4. Добавляем логистику и упаковку.
5. Учитываем комиссию МП и эквайринг как %% от цены.
6. Получаем цену продажи.
7. Считаем исходящий и входящий НДС, НДС к уплате.
8. Считаем фактическую маржу после всех затрат.
9. Если маржа < 10% — аналитически пересчитываем цену так, чтобы маржа была не менее 10%,
   при этом не уменьшаем цену ниже исходной.

Результат: в исходный Excel добавляются колонки:

- `Объем, л`
- `Стоимость логистики`
- `Цена продажи`
- `% маржи`
- `Исходящий НДС`
- `Входящий НДС`
- `НДС к уплате`

и файл можно скачать.

## Локальный запуск

```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
streamlit run app.py
```

Приложение откроется в браузере (по умолчанию `http://localhost:8501`).

## Структура проекта

- `app.py` — основной код Streamlit‑приложения.
- `requirements.txt` — зависимости.
- `README.md` — это описание.

## Как выложить на GitHub

1. Создайте новый репозиторий на GitHub (например, `mp-pricing-calculator`).
2. Склонируйте его к себе на компьютер:
   ```bash
   git clone https://github.com/ВАШ_АККАУНТ/mp-pricing-calculator.git
   cd mp-pricing-calculator
   ```
3. Скопируйте в папку файлы `app.py`, `requirements.txt`, `README.md`.
4. Закоммитьте и отправьте изменения:
   ```bash
   git add .
   git commit -m "Initial commit: MP pricing calculator"
   git push origin main
   ```

## Деплой на Streamlit Community Cloud

1. Зайдите на [Streamlit Community Cloud](https://streamlit.io/cloud) и войдите через GitHub.
2. Нажмите **New app** → выберите ваш репозиторий.
3. Укажите:
   - Branch: `main` (или ветку, где лежит код).
   - Main file path: `app.py`.
4. Нажмите **Deploy**.

Через некоторое время приложение станет доступно по публичной ссылке, которой можно делиться с командой.
